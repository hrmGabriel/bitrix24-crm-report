#name: Bitrix24 CRM Export (Daily)
#
#on:
#  schedule:
#    - cron: '0 9 * * *'  # Executa diariamente às 06:00 (horário de Brasília)
#  workflow_dispatch:     # Permite execução manual pelo GitHub
#
#jobs:
#  run-export:
#    runs-on: ubuntu-latest
#
#    steps:
#      # 1. Clona o repositório
#      - name: Checkout repository
#        uses: actions/checkout@v4
#
#      # 2. Configura o Python
#      - name: Set up Python
#        uses: actions/setup-python@v5
#        with:
#          python-version: '3.14.2'
#
#      # 3. Instala dependências
#      - name: Install dependencies
#        run: |
#          python -m pip install --upgrade pip
#          pip install -r requirements.txt
#
#      # 4. Cria o arquivo de credenciais do Google
#      - name: Create Google credentials file
#        run: |
#          echo '${{ secrets.GOOGLE_CREDENTIALS_JSON }}' > credentials.json
#
#      # 5. Executa o pipeline
#      - name: Run Bitrix export pipeline
#        env:
#          BITRIX_URL: ${{ secrets.BITRIX_URL }}
#          BITRIX_USER_ID: ${{ secrets.BITRIX_USER_ID }}
#          BITRIX_WEBHOOK: ${{ secrets.BITRIX_WEBHOOK }}
#          GOOGLE_SHEET_ID: ${{ secrets.GOOGLE_SHEET_ID }}
#        run: |
#          python -m src.main
